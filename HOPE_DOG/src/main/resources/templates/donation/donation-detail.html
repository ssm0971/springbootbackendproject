<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>기부 - 글 상세페이지</title>
  <link rel="stylesheet" th:href="@{/css/dona/donation-detail.css}" />
  <link rel="stylesheet" th:href="@{/css/fragment/header.css}">
  <link rel="stylesheet" th:href="@{/css/main/main.css}">
  <script defer th:src="@{/js/main/main.js}"></script>
  <script defer th:src="@{/js/dona/donation-detail.js}"></script>
</head>

<body>

<header th:replace="~{fragment/header :: header}"></header>
  
<main>
  <div class="post-guest-main"  th:each="donation : ${donationViewList}">
    <section class="dona-top">
      <div class="post-guest">
        <div class="topTitle" th:text="${donation.donaTitle}"></div>
          <div id="line"></div>
        <div class="dona-view-content">


            <!--게시판 상단 (제목, 닉네임)-->
          <div class="notice-detail-box">
            <div class="notice-addetail-content">
              <div class="notice-addetail-tcontent">작성자</div>
              <div class="notice-addetail-ttxt" th:text="${donation.centerMemberName}"></div>
            </div>
            <div class="notice-addetail-content">
              <div class="notice-addetail-tcontent">작성일</div>
              <div class="notice-addetail-ttxt" th:text="${#dates.format(donation.donaRegidate, 'yyyy-MM-dd HH:mm')}"></div>
            </div>

            <div class="notice-addetail-maincont"  th:text="${donation.donaContent}"></div>
          </div>
        </div>
      </div>
    </section>
    <section class="dona-bottom">
        <div class="btn-wrap">
          <div class="donaNo" th:text="${donation.donaNo}" style="display: none;"></div>
          <button class="btn-modify" type="button" onclick="modifyClick()"
                  th:if="${centerMemberNo == donation.centerMemberNo}">수정</button>
          <button class="btn-remove" type="button" onclick="deleteClick()"
                  th:if="${centerMemberNo == donation.centerMemberNo}">삭제</button>
        </div>

          <div class="dona-admain-btuall-complaint">
            <a th:href="@{/dona/list}">
              <button class="dona-admain-btu-complaint" type="button">
              <span class="dona-admain-btu-complaint-sp">목록</span>
              </button>
            </a>
          </div>
      <div id="bottom-line"></div>

      <section class="dona-detail-box4">
        <div class="dona-detail-commentbox"  th:each="donaComment : ${donationComment}">
          <div class="dona-detail-name"  th:text="${donaComment.commentWriterName}">행복이</div>
          <div class="dona-comment-buttonBox" id="adopt-comment-buttonBox">
            <button class="dona-comment-button" type="button" onclick="modifyCommentBtnClcik()">수정</button>
            <button class="dona-comment-button" type="button" onclick="CommentDeleteClick()">삭제</button>
            <button class="dona-comment-button" type="button" onclick="CommentReportClick()">신고</button>
          </div>
          <div class="dona-detail-comment" id="dona-comment" th:text="${donaComment.donaCommentContent}"></div>
          <div class="dona-detail-date" th:text="${#dates.format(donaComment.donaCommentRegidate, 'yyyy-MM-dd')}"></div>
<!--          <div class="dona-detail-comment" id="dona-modifyInput" style="display:none;">-->
          <div class="dona-detail-comment" id="dona-modifyInput">
            <input class="dona-modify-comment">
            <button class="dona-comment-button" onclick="editCommentBtnClcik()">등록</button>
          </div>
        </div>
      </section>
    </section>
  </div>

  <form th:action="@{/dona/donaCommentModi(donaNo=${donaNo})}" method="post"
        th:id="'dona-modifyInput-' + ${iterStat.index}" style="display:none;">
    <input type="hidden" name="donaCommentNo" th:value="${donationComment.donaCommentNo}">
    <input type="hidden" name="donaNo" th:value="${donaNo}">
    <input type="text" name="donaComment" class="dona-modify-comment" th:value="${donationComment.donaCommentConent}">
    <button type="submit" class="dona-comment-button">등록</button>
  </form>


</main>
</body>



<footer th:replace="~{/fragment/footer :: footer}"></footer>



</html>